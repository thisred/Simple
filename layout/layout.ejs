<!DOCTYPE html>
<html lang="<%-config.language%>">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>
        <% if (is_home()) {%>
            <%-config.title%>
                <%}%>
                    <% if (is_post()) {%>
                        <%-page.title%> -
                            <%-config.title%>
                                <%}%>
    </title>
    <meta data-react-helmet="true" name="keywords" content="<%-page.title%>,<%-config.keywords%>">
    <% if (is_home()) {%>
        <meta name='description' content='<%- config.description %>'>
        <%}%>
            <% if (is_post()) {%>
                <%if (page.excerpt){ %>
                    <meta name="description" content="<%= strip_html(page.excerpt).replace(/^s*/, '').replace(/s*$/, '') %>">
                    <% } else if (page.content){ %>
                        <meta name="description" content="<%= strip_html(page.content).replace(/^s*/, '').replace(/s*$/, '').substring(0, 150) %>">
                        <% } %>
                            <%}%>
                                <meta http-equiv='content-language' content='<%-config.language%>'>
                                <link rel="apple-touch-icon-precomposed" href="http://q.qlogo.cn/headimg_dl?dst_uin=2391114519&spec=640&img_type=jpg">
                                <link rel="shortcut icon" href="http://q.qlogo.cn/headimg_dl?dst_uin=2391114519&spec=640&img_type=jpg" type="image/x-icon">
                                <link rel="stylesheet" href="/css/cursor.css">
                                <link rel="stylesheet" href="/css/default.min.css">
                                <link rel="stylesheet" href="/css/tag.css">
                                <link rel="stylesheet" href="/css/styles.css">

                                <style>
                                    body {
                                        margin: 0;
                                        padding: 0;
                                        border: 0;
                                    }
                                    
                                    img {
                                        display: block;
                                    }
                                    
                                    a {
                                        text-decoration: none;
                                        color: <%=theme.a_color%>;
                                    }
                                    
                                    h1,
                                    h2,
                                    h3 {
                                        font: 22px/30px Arial, Helvetica, sans-serif;
                                    }
                                    
                                    .content {
                                        margin: 0 auto;
                                        width: 690px;
                                        height: auto;
                                        min-height: 720px;
                                        overflow: hidden;
                                    }
                                    
                                    @media(max-width:600px) {
                                        .content {
                                            width: 100%;
                                        }
                                        .content {}
                                        .content_bg {
                                            padding: 0 0 0 0 !important;
                                            border-left: 10px !important;
                                            border-right: 10px !important;
                                        }
                                    }
                                    /*小 */
                                    
                                    @media(max-width:320px) {
                                        .content {
                                            margin: 0 auto;
                                            width: 320px;
                                        }
                                    }
                                    /* 兼容ipad横屏 ： */
                                    
                                    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: landscape) {
                                        .content {
                                            margin: 0 auto;
                                            width: 720px;
                                        }
                                        .content {}
                                        .content_bg {
                                            padding: 0 0 0 0 !important;
                                            border-left: 10px !important;
                                            border-right: 10px !important;
                                        }
                                    }
                                    /* 兼容ipad竖屏 ： */
                                    
                                    @media only screen and (min-device-width: 768px) and (max-device-width: 1024px) and (orientation: portrait) {
                                        .content {
                                            margin: 0 auto;
                                            width: 720px;
                                        }
                                        .content {}
                                        .content_bg {
                                            padding: 0 0 0 0 !important;
                                            border-left: 10px !important;
                                            border-right: 10px !important;
                                        }
                                    }
                                    
                                    .content {
                                        padding: 20px;
                                        border-radius: 12px;
                                        word-wrap: break-word;
                                    }
                                    
                                    .content * {
                                        word-wrap: break-word;
                                    }
                                    
                                    .content_bg {
                                        padding: 0 10px 0 10px;
                                        border-left: 10px;
                                        border-right: 10px;
                                        height: 100%;
                                        word-wrap: break-word;
                                    }
                                    
                                    .content img {
                                        margin: 0 auto;
                                        border-radius: 15px;
                                        max-width: -webkit-fill-available;
                                    }
                                    
                                    .blog_create {
                                        padding: 10px;
                                        text-align: center;
                                        height: 20px;
                                    }
                                    
                                    .post {
                                        background-color: white;
                                        margin-bottom: 15px;
                                        box-shadow: 0 2px 10px 0 rgb(0 0 0 / 10%);
                                        border-radius: 12px;
                                    }
                                    
                                    .posts {}
                                    
                                    .post_name {
                                        text-align: center;
                                        font-size: 18px;
                                        font-weight: 600;
                                    }
                                    
                                    .post_time {
                                        text-align: right;
                                        font-size: small;
                                        color: #9195A3;
                                    }
                                    
                                    .readmore {
                                        text-align: center;
                                    }
                                    
                                    #footer {
                                        background: <%=theme.footer_color%>;
                                        padding: 50px 0;
                                        color: #999;
                                    }
                                </style>
</head>

<body>
    <%- partial('header')%>
        <%- body %>
            <%- partial('footer')%>

                <script src="/js/highlight.min.js"></script>
                <script src="/js/tagcloud.js"></script>
                <script src="https://cdn.jsdelivr.net/npm/pjax/pjax.js"></script>
                <script>
                    hljs.highlightAll();
                    AniEnd()
                    var pjax = new Pjax({
                            elements: "a", //代表点击链接就更新
                            selectors: [ //代表要更新哪些html元素（dom节点）
                                ".main"
                            ]
                        })
                        // 开始 PJAX 执行的函数
                    document.addEventListener('pjax:send', function() {
                        GoTop();
                        AniStart();
                    });
                    // PJAX 完成之后执行的函数，可以和上面的重载放在一起
                    document.addEventListener('pjax:complete', function() {
                        hljs.highlightAll();
                        AniEnd();
                    });
                    var timer = null;

                    function GoTop() {
                        cancelAnimationFrame(timer);
                        timer = requestAnimationFrame(function fn() {
                            var oTop = document.body.scrollTop || document.documentElement.scrollTop;
                            if (oTop > 0) {
                                document.body.scrollTop = document.documentElement.scrollTop = oTop - 50;
                                timer = requestAnimationFrame(fn);
                            } else {
                                cancelAnimationFrame(timer);
                            }
                        });
                    }

                    function AniStart() {}

                    function AniEnd() {}
                </script>
</body>

</html>